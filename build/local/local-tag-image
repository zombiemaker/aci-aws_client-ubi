#!/bin/bash
# The process that is executing this script must set the following env variables:
#   TGT_IMAGE_REPO_HOSTNAME
#   TGT_IMAGE_REPO_OWNERNAME

source ./image-info

TGT_IMAGE_REPO_HOSTNAME=docker.io
TGT_IMAGE_REPO_OWNERNAME=zmaker123

echo "docker tag ${IMAGE}:${IMAGE_TAG} ${TGT_IMAGE_REPO_HOSTNAME}/${TGT_IMAGE_REPO_OWNERNAME}/${IMAGE_REPO_NAME}:${IMAGE_TAG}"
#echo "docker tag $IMAGE:$IMAGE_TAG $TGT_IMAGE_REPO_HOSTNAME/$TGT_IMAGE_REPO_OWNERNAME/$IMAGE_REPO_NAME:$IMAGE_TAG"
docker tag ${IMAGE}:${IMAGE_TAG} ${TGT_IMAGE_REPO_HOSTNAME}/${TGT_IMAGE_REPO_OWNERNAME}/${IMAGE_REPO_NAME}:${IMAGE_TAG}

echo "docker tag ${TGT_IMAGE_REPO_HOSTNAME}/${TGT_IMAGE_REPO_OWNERNAME}/${IMAGE_REPO_NAME}:${IMAGE_TAG} ${TGT_IMAGE_REPO_HOSTNAME}/${TGT_IMAGE_REPO_OWNERNAME}/${IMAGE_REPO_NAME}:${IMAGE_TAG_LATEST}"
docker tag ${TGT_IMAGE_REPO_HOSTNAME}/${TGT_IMAGE_REPO_OWNERNAME}/${IMAGE_REPO_NAME}:${IMAGE_TAG} ${TGT_IMAGE_REPO_HOSTNAME}/${TGT_IMAGE_REPO_OWNERNAME}/${IMAGE_REPO_NAME}:${IMAGE_TAG_LATEST}
